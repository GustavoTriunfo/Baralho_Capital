<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Baralho Capital</title>
  <link rel="icon" type="image/png" href="/Baralho_Capital/esfera armilar.png">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/Baralho_Capital/Front_end/TelaJogo/styleTelaJogo.css">
</head>
<body>

  <div class="fundoBarraVidaJogador" id="playerLifeBar">
    <div id="playerHealthBar" class="progress-bar bg-success" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
  </div>
  
  <div class="endgamePlayerLose" id="endgamePlayerLose">
    <img src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/playerLose.png" alt="Imagem derrota" id="imagemDerrota" style="width: 250px; height: auto; position: fixed; left: 60px; top: 120px;">
  </div>

  <div class="susto-overlay" id="sustoOverlay">
    <img src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/AtaqueSusto.png" alt="Imagem de Susto" id="imagemSusto">
    <div class="fundo-preto" id="fundoPreto"></div>
</div>




  <div class="vida-jogador-overlay" id="vidaJogadorOverlay"></div>

  <img src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/fighting cloud.gif" alt="ImagemFumace" id="ImagemFumace" style="display: none; position: fixed; top: -200px; right: -90px; z-index: 999; width: 600px; height: auto;">

  <div class="overlayLoucura" id="overlayLoucura">
    <img src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/crazy01.gif" alt="Imagem 1">
    <img src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/crazy02.gif" alt="Imagem 2">
    <img src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/crazy03.gif" alt="Imagem 3">
    <img src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/crazy04.gif" alt="Imagem 4">
    <img src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/crazy05.gif" alt="Imagem 5">
  </div>

  <div class="landscape-warning">
    Por favor, gire seu dispositivo para o modo retrato.
  </div>

  <div class="overlay-transition-boss" style="display: none;"></div>

  <div class="black-overlay" style="display: none;">
    <div class="inner-black-div">
      <div class="square"></div>
    </div>
    <div class="control-buttons">
        <button id="move-up">↑</button>
        <button id="move-left">←</button>
        <button id="move-down">↓</button>
        <button id="move-right">→</button>
     
    </div>
  </div>
  

 

  
  
  <div id="cardPreviewOverlay" class="card-preview-overlay d-none">
    <button id="botaoDevolver" class="btn btn-custom-primary">Devolver</button>
    <button id="botaoJogar" class="btn btn-custom-secondary">Jogar</button>
  </div>


  <div id="opponentCardPreviewOverlay" class="boss-card-preview-overlay d-none">
    <button id="botaoFechar" class="btn btn-boss-custom-primary">Fechar</button>
  </div>

  



    <div class="black-bg">
      <img id="mosquitoNotes" src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/MosquitoSinging.gif" alt="mosquito notes">
        <!-- Fundo preto sólido -->
        <img style="display: block; position: fixed; top: -10px; left: -10px; width: 80px; z-index: 99;" id="iconeBoss" src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/Boss.gif" />
        <img style="display: none; position: fixed; top: 70px; right: 145px; width: 40px; z-index: 99;" id="raiva" src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/angry2.gif" />
        <img style="display: none; position: fixed; top: 10px; right: 55px; width: 80px;" id="risada" src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/haha.gif" />
          <div class="progress fixed-progress-boss" style="height: 30px; border-radius: 0px;">
            <div id="bossHealthBar" class="progress-bar bg-danger" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
            <img id="animatedImage" src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/MosquitoDengue.png" />
          </div>
          <div class="opponent-cards">
          
          </div>
      </div>


      <div id="tempo-restante-div" class="d-none" style="position: fixed; top: 420px;">
        <p id="tempo-restante" class="text-white text-center font-weight-bold" style="white-space: nowrap; font-size: 18px;">Aguardando Adversário: 16 segundos...</p>
        <img src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/loading2.gif" style="width: 50px; height: auto; display: block; margin: 0 auto;">
      </div>

      <div id="tempo-minigame-div" class="d-none" style="position: fixed; top: 50px;">
        <p id="tempo-minigame" class="text-white text-center font-weight-bold" style="white-space: nowrap; font-size: 18px;">Tempo restante: 16s...</p>
      </div>

      <div id="tempo-missao-div" class="d-none">
        <p id="tempo-missao" class="text-white font-weight-bold" style="white-space: nowrap; font-size: 18px; position: fixed; top: -20px; left: 30px; z-index: 5;"></p>
      </div>
      
     
      
      <div class="bg-image">

        <img id="imagemBaralho" src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/baralho_na_mesa.png" alt="Baralho" style="pointer-events: none;">
        
       
        <div class="card-holder" id="maoJogador" style="pointer-events: 'none';">
          <img src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/left hand.png" class="player-hand-image left" id="hand-left">
        
          <img src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/right hand.png" class="player-hand-image right" id="hand-right">
        </div>

        <div id="statusMenu" class="status-menu bg-light p-4 rounded" style="display: none; z-index: 9999;">
          <!-- Botão para fechar o menu de status -->
          <button id="fecharMenuStatus" class="close-btn btn btn-sm btn-danger">Fechar</button>
          <!-- Conteúdo do menu de status -->
          <h2 class="text-center mb-4">Status do Jogador</h2>
          <div class="status-info">
            <p class="mb-2"><strong>Nome Jogador(a):</strong> <span id="nomeJogador" class="text-primary"></span></p>
            <p class="mb-2"><strong>Vida Jogador: </strong> <span id="vidaJogador" class="text-success"></span></p>
            <p class="mb-2"><strong>Vida Mosquito: </strong> <span id="vidaMosquito" class="text-danger"></span></p>
            <p class="mb-2"><strong>Quantidade Cartas Jogadas: </strong> <span id="cartasJogadas" class="text-info"></span></p>
            <p class="mb-2"><strong>Dano Causado: </strong> <span id="danoCausado" class="text-info"></span></p>
            <p class="mb-2"><strong>Defesa contra Picada Surpresa: </strong> <span id="defesaContraPicadaSur" class="text-info"></span></p>
            <p class="mb-2"><strong>Defesa contra Picada Paralizante: </strong> <span id="defesaContraPicadaPar" class="text-info"></span></p>
            <p class="mb-2"><strong>Investimentos contra Mosquito da Dengue: </strong> <span id="investimentosContraMosquito" class="text-info"></span></p>
            <p class="mb-2"><strong>Picadas Recebidas: </strong> <span id="danoRecebido" class="text-info"></span></p>
          </div>
        </div>

      
        <div id="endgameOverlay" style="display: none;">
          <img id="endButton" src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/trophy.gif" alt="trophy" style="position: fixed; left: 90px; top: 160px; z-index: 1;">
          <img src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/stars.gif" alt="stars" style="position: fixed;  left: -70px; top: 60px; ">
          <img id="redirecionarParaTelaMissoes" src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/ods3.jpg" alt="ODS3" style="position: fixed;  left: 90px; bottom: 20px; width: 180px; height: auto;">
        </div>
      
     
<div id="startOverlay">
  <img id="startButton" src="/Baralho_Capital/imagensTelaInicial/startButton.gif" alt="Start Button" width="150" height="auto">
</div>



<div id="menuOverlay" class="menu-overlay">
  <div class="menu-options">
    <button>
      <img id="imagemMusica" src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/songTrue.png" alt="Ícone Opção 1">
      <span>Música</span>
    </button>
    <button>
      <img id="efeitoSons" src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/speaking.png" alt="Ícone Opção 2">
      <span>Sons</span>
    </button>
    <button>
      <img id="mostrarMenuStatus" src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/bar graph.png" alt="Ícone Opção 4">
      <span>Status</span>
    </button>
  </div>
</div>



<img id="configurations" src="/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/options.png" style="display: block;">

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script type="module" src="/Baralho_Capital/Front_end/TelaJogo/app.js"></script>
<script type="module" src="/Baralho_Capital/Front_end/TelaJogo/playerCard.js"></script>
<script type="module" src="/Baralho_Capital/Back_end/TelaDoJogo/startJogo.js"></script>
<script type="module" src="/Baralho_Capital/Front_end/TelaJogo/MissaoCombateDengue/miniGameFuga.js"></script>
<script type="module" src="/Baralho_Capital/Front_end/TelaJogo/script.js"> </script>

<audio id="musica" src="/Baralho_Capital/Back_end/TelaDoJogo/musicasEEfeitos/Danse macabre.mp3" preload="auto" loop></audio>

<script type="module">
import {verificarCartaBoss, getCartaBossRecente, atualizarTelaStatus, getEstadoEfeitoSonoro, setEstadoEfeitoSonoro, 
  pararMusica, selecionarMissao} from './app.js'
import {setQuantidadeCartasJogadas} from './script.js'

  var musica = document.getElementById('musica');
 
  var imagemMusica = document.getElementById('imagemMusica');
  var mutado = document.getElementById('efeitoSons');

  function mostrarMenuStatus() {
    var statusMenu = document.getElementById('statusMenu');
    statusMenu.style.display = 'block'; 
  }

  function fecharMenuStatus() {
    var statusMenu = document.getElementById('statusMenu');
    statusMenu.style.display = 'none';
  }

  function mutarEfeitosSonoros(){
    if (getEstadoEfeitoSonoro()) {
      setEstadoEfeitoSonoro(false);
      mutado.src = "/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/muted.png";
      } else {
        setEstadoEfeitoSonoro(true);
          mutado.src = "/Baralho_Capital/Front_end/TelaJogo/ImagensTelaJogo/speaking.png";
      }
  }

  function fecharVisualizacaoCartaBoss(){
  var cartaBoss = document.getElementById('opponentCardPreviewOverlay');
 
  Array.from(cartaBoss.children).forEach(child => {
      if (child.id !== 'botaoFechar') {
          child.remove();
      }
  });

  cartaBoss.classList.add("d-none");

  verificarCartaBoss(getCartaBossRecente())
  setQuantidadeCartasJogadas(1)
  atualizarTelaStatus()
}

function toggleMenu() {
    var overlay = document.getElementById("menuOverlay");
    if (overlay.classList.contains("show")) {
        overlay.classList.remove("show");
        overlay.style.display = "none"; // Se a classe "show" estiver presente, oculta o menu
    } else {
        overlay.classList.add("show");
        overlay.style.display = "block"; // Se a classe "show" não estiver presente, mostra o menu
    }
}

document.getElementById("botaoFechar").addEventListener("click", fecharVisualizacaoCartaBoss);
document.getElementById('imagemMusica').addEventListener("click", pararMusica);
document.getElementById('configurations').addEventListener("click", toggleMenu);
document.getElementById('efeitoSons').addEventListener("click", mutarEfeitosSonoros);
document.getElementById('mostrarMenuStatus').addEventListener("click", mostrarMenuStatus);
document.getElementById('fecharMenuStatus').addEventListener("click", fecharMenuStatus);
document.getElementById('endButton').addEventListener("click", mostrarMenuStatus);
document.getElementById('redirecionarParaTelaMissoes').addEventListener("click", function() {
    window.location.href = '../TelaMissoes/mapaMissoes.html';
});
selecionarMissao()
</script>
</body>
</html>
